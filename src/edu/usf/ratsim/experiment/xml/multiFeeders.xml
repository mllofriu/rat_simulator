<?xml version="1.0" encoding="us-ascii"?>
<!-- Just a test of new format -->

<experiment>
	<!--Robot startin points -->
	<point name='W' xp='-0.4' yp='0' zp='0' rot='0' />
	<point name='N' xp='0' yp='0' zp='-0.4' rot='0' />
	<point name='E' xp='0.4' yp='0' zp='0' rot='0' />
	<point name='S' xp='0' yp='0' zp='0.35' rot='0' />

	<!--Hidden platform points -->
	<point name='SE' xp='0.2' yp='0' zp='0.2' rot='0' />
	<point name='SW' xp='-0.2' yp='0' zp='0.2' rot='0' />
	<point name='NE' xp='0.2' yp='0' zp='-0.2' rot='0' />
	<point name='NW' xp='-0.2' yp='0' zp='-0.2' rot='0' />

	<maze>/edu/usf/ratsim/experiment/mazes/multiFeeders.xml</maze>

	<!--Subjects -->
	<subject name='r1'>
		<model>
			<name>MultiScaleMultiIntentionModel</name>
			<params>
				<numLayers>1</numLayers>
				<minRadius>.05</minRadius>
				<maxRadius>.25</maxRadius>
				<numIntentions>8</numIntentions>
			</params>
		</model>
		<initializers>
			<initializer>
				<name>feederSelector</name>
				<params>
					<numFeeders>3</numFeeders>
				</params>
			</initializer>
		</initializers>
	</subject>
	<subject name='r2'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    <subject name='r3'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    <subject name='r4'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    <subject name='r5'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    <subject name='r6'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    <subject name='r7'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    <subject name='r8'>
        <model>
            <name>MultiScaleMultiIntentionModel</name>
            <params>
                <numLayers>1</numLayers>
                <minRadius>.05</minRadius>
                <maxRadius>.25</maxRadius>
                <numIntentions>8</numIntentions>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </subject>
    

	<!--Subject groups -->
	<group name='g1'>
		<member name='r1' />
		<member name='r2' />
		<member name='r3' />
		<member name='r4' />
		<member name='r5' />
		<member name='r6' />
		<member name='r7' />
		<member name='r8' />
		
	</group>

	<!--Training trials - flashing food -->
	<trial>
		<name>training</name>
		<reps>1</reps>
		<groups>
			<group>g1</group>
		</groups>
		<initialTasks>
			<task>
				<name>PlaceRobotInitiallyTask</name>
				<params>
					<initialPosition>S</initialPosition>
				</params>
			</task>
			<!-- <task> <name>ActivateFeeders</name> <params> </params> </task> -->
			<task>
				<name>FlashFeeder</name>
			</task>
		</initialTasks>
		<afterCycleTasks>
			<task>
				<name>FlashFeeder</name>
			</task>
			<task>
				<name>UnflashFeeder</name>
			</task>
		</afterCycleTasks>
		<afterTrialTasks>
		</afterTrialTasks>
		<stopConditions>
			<stopCondition>
				<name>FoundNFood</name>
				<params>
					<n>1000</n>
				</params>
			</stopCondition>
		</stopConditions>
		<afterCycleLoggers>
			<logger>
				<name>PositionLogger</name>
			</logger>


		</afterCycleLoggers>
		<afterTrialLoggers>
			<logger>
				<name>PolicyDumperWithIntention</name>
				<params>
					<numIntentions>8</numIntentions>
				</params>
			</logger>
		</afterTrialLoggers>
	</trial>

	<!-- 4 testing trials - no flash -->
	<trial>
		<name>recall</name>
		<reps>1</reps>
		<groups>
			<group>g1</group>
		</groups>
		<initialTasks>
			<task>
				<name>PlaceRobotInitiallyTask</name>
				<params>
					<initialPosition>S</initialPosition>
				</params>
			</task>
			<task>
				<name>ActivateFeeders</name>
				<params>
				</params>
			</task>

		</initialTasks>
		<afterCycleTasks>
			<task>
				<name>FeederTemporalDeactivate</name>
			</task>
		</afterCycleTasks>
		<afterTrialTasks>
		</afterTrialTasks>
		<stopConditions>
			<stopCondition>
				<name>FoundNFood</name>
				<params>
					<n>15</n>
				</params>
			</stopCondition>
		</stopConditions>
		<afterCycleLoggers>
			<logger>
				<name>PositionLogger</name>
			</logger>
		</afterCycleLoggers>
		<afterTrialLoggers>
			<logger>
				<name>PolicyDumperWithIntention</name>
				<params>
					<numIntentions>8</numIntentions>
				</params>
			</logger>
		</afterTrialLoggers>
	</trial>



</experiment>