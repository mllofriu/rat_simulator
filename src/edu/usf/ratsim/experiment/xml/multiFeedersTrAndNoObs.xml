<?xml version="1.0" encoding="us-ascii"?>
<!-- Just a test of new format -->

<experiment>
    <!--Robot startin points -->
    <point>
        <name>S</name>
        <xp>0</xp>
        <yp>0</yp>
        <zp>0.35</zp>
        <rot>0</rot>
    </point>


    <maze>/edu/usf/ratsim/experiment/mazes/multiFeeders.xml</maze>

    <!--Subject groups -->
    <group>
        <name>ControlNoObs</name>
        <numMembers>64</numMembers>
        <model>
            <name>MultiScaleMultiIntentionCooperativeModel</name>
            <params>
                <numPCLayers>3</numPCLayers>
                <minRadius>.125</minRadius>
                <maxRadius>.6</maxRadius>
                <numHDLayers>8</numHDLayers>
                <minHDCellsPerLayer>1</minHDCellsPerLayer>
                <stepHDCellsPerLayer>16</stepHDCellsPerLayer>
                <numIntentions>8</numIntentions>
                <deterministicActionSelection>true</deterministicActionSelection>
                <foodReward>3</foodReward>
                <nonFoodReward>0</nonFoodReward>
                <discountFactor>.95</discountFactor>
                <alpha>.8</alpha>
                <initialValue>0</initialValue>
                <flashingReward>2</flashingReward>
                <nonFlashingReward>1</nonFlashingReward>
                <wallAvoidingVal>0</wallAvoidingVal>
                <proportionalQL>true</proportionalQL>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </group>
    
    <group>
        <name>VentralNoObs</name>
        <numMembers>64</numMembers>
        <model>
            <name>MultiScaleMultiIntentionCooperativeModel</name>
            <params>
                <numPCLayers>3</numPCLayers>
                <minRadius>.125</minRadius>
                <maxRadius>.6</maxRadius>
                <numHDLayers>8</numHDLayers>
                <minHDCellsPerLayer>1</minHDCellsPerLayer>
                <stepHDCellsPerLayer>16</stepHDCellsPerLayer>
                <numIntentions>8</numIntentions>
                <deterministicActionSelection>true</deterministicActionSelection>
                <foodReward>3</foodReward>
                <nonFoodReward>0</nonFoodReward>
                <discountFactor>.95</discountFactor>
                <alpha>.8</alpha>
                <initialValue>0</initialValue>
                <flashingReward>2</flashingReward>
                <nonFlashingReward>1</nonFlashingReward>
                <wallAvoidingVal>0</wallAvoidingVal>
                <proportionalQL>true</proportionalQL>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </group>
    
    <group>
        <name>DorsalNoObs</name>
        <numMembers>64</numMembers>
        <model>
            <name>MultiScaleMultiIntentionCooperativeModel</name>
            <params>
                <numPCLayers>3</numPCLayers>
                <minRadius>.125</minRadius>
                <maxRadius>.6</maxRadius>
                <numHDLayers>8</numHDLayers>
                <minHDCellsPerLayer>1</minHDCellsPerLayer>
                <stepHDCellsPerLayer>16</stepHDCellsPerLayer>
                <numIntentions>8</numIntentions>
                <deterministicActionSelection>true</deterministicActionSelection>
                <foodReward>3</foodReward>
                <nonFoodReward>0</nonFoodReward>
                <discountFactor>.95</discountFactor>
                <alpha>.8</alpha>
                <initialValue>0</initialValue>
                <flashingReward>2</flashingReward>
                <nonFlashingReward>1</nonFlashingReward>
                <wallAvoidingVal>0</wallAvoidingVal>
                <proportionalQL>true</proportionalQL>
            </params>
        </model>
        <initializers>
            <initializer>
                <name>feederSelector</name>
                <params>
                    <numFeeders>3</numFeeders>
                </params>
            </initializer>
        </initializers>
    </group>
    

    
    <trial>
        <name>Training</name>
        <reps>1</reps>
        <groups>
            <group>ControlNoObs</group>
 
            <group>VentralNoObs</group>
      
            <group>DorsalNoObs</group>
          
        </groups>
        <initialTasks>
            <task>
                <name>PlaceRobotInitiallyTask</name>
                <params>
                    <initialPosition>S</initialPosition>
                </params>
            </task>
            <!-- <task> <name>ActivateFeeders</name> <params> </params> </task> -->
            <task>
                <name>FlashFeeder</name>
            </task>
        </initialTasks>
        <afterCycleTasks>
            <task>
                <name>FlashFeeder</name>
            </task>
            <task>
				<name>ResetRobotAte</name>
			</task>
            <!-- <task> <name>UnflashFeeder</name> </task> -->
        </afterCycleTasks>
        <afterTrialTasks>
        </afterTrialTasks>
        <stopConditions>
            <stopCondition>
                <name>FoundNFood</name>
                <params>
                    <n>100</n>
                </params>
            </stopCondition>
        </stopConditions>
        <afterCycleLoggers>
            <logger>
                <name>PositionLogger</name>
            </logger>
            <logger>
                <name>WantedFeederLogger</name>
            </logger>


        </afterCycleLoggers>
        <afterTrialLoggers>
            <!-- <logger> <name>PolicyDumperWithIntention</name> <params> <numIntentions>8</numIntentions> 
                </params> </logger> -->
            <logger>
                <name>WallLogger</name>
            </logger>
        </afterTrialLoggers>
        <plotters>
       		<plotter>
				<name>MutliFeedersPlotter</name>
				<params></params>
			</plotter>
		</plotters>

    </trial>

    <trial>
        <name>Recall No Obs.</name>
        <reps>1</reps>
        <groups>
            <group>ControlNoObs</group>
            <group>VentralNoObs</group>
            <group>DorsalNoObs</group>
        </groups>
        <initialTasks>
            <task>
                <name>PlaceRobotInitiallyTask</name>
                <params>
                    <initialPosition>S</initialPosition>
                </params>
            </task>
            <task>
                <name>ResetModelTask</name>
                <params>
                </params>
            </task>
            <task>
                <name>UnflashFeeder</name>
            </task>
            <task>
                <name>ActivateFeeders</name>
                <params>
                </params>
            </task>
            <task>
                <name>ClearWalls</name>
                <params>
                </params>
            </task>
            <!-- <task> <name>PlaceWall</name> <params> <x1>W1</x1> <x2>W2</x2> </params> 
                </task> -->

            <task>
                <name>DeactivatePCL</name>
                <params>
                    <layers>1,2</layers>
                    <group>VentralNoObs</group>
                </params>
            </task>
            <task>
                <name>DeactivatePCL</name>
                <params>
                    <layers>0,1</layers>
                    <group>DorsalNoObs</group>
                </params>
            </task>

        </initialTasks>
        <afterCycleTasks>
            <task>
				<name>FlashFeederWhenWrong</name>
				<params>
					<timeout>240</timeout>
				</params>
			</task>
			<task>
                <name>FeederTemporalDeactivate</name>
            </task>
            <task>
                <name>ResetRobotAte</name>
            </task>
        </afterCycleTasks>
        <afterTrialTasks>
        </afterTrialTasks>
        <stopConditions>
            <stopCondition>
				<name>FoundNFoodNoMistakes</name>
				<params>
					<n>15</n>
					<timeout>240</timeout>
				</params>
			</stopCondition>
            <stopCondition>
                <name>Time</name>
                <params>
                    <time>30000</time>
                </params>
            </stopCondition>
        </stopConditions>
        <afterCycleLoggers>
            <logger>
                <name>PositionLogger</name>
            </logger>
            <logger>
                <name>WantedFeederLogger</name>
            </logger>
        </afterCycleLoggers>
        <afterTrialLoggers>
            <!-- <logger> <name>PolicyDumperWithIntention</name> <params> <numIntentions>8</numIntentions> 
                </params> </logger> -->
            <logger>
                <name>WallLogger</name>
            </logger>
        </afterTrialLoggers>
		<plotters>
			<plotter>
				<name>MutliFeedersPlotter</name>
				<params></params>
			</plotter>
		</plotters>
    </trial>
    
    



</experiment>
